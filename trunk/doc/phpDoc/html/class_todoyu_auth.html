<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Todoyu: TodoyuAuth Klassenreferenz</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Erzeugt von Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&nbsp;Informationen</span></a></li>
      <li><a href="namespaces.html"><span>Namensbereiche</span></a></li>
      <li class="current"><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="examples.html"><span>Beispiele</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="hierarchy.html"><span>Klassenhierarchie</span></a></li>
      <li><a href="functions.html"><span>Datenstruktur-Elemente</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TodoyuAuth Klassenreferenz</h1><!-- doxytag: class="TodoyuAuth" --><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Öffentliche, statische Methoden</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a6b8d7f313ad7b7c26affac7a74547d50">isLoggedIn</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#aeeb9b927f96ebe9c88760d70afa39abe">getUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#adb7b9f9f843886bfc4c4bbb0485774a8">getGroupIDs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a038ac7a8e7c043635e04f4f71ae69690">getUserID</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#adc57bd5d6131958d114d6150f4d7adbf">login</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a1e34160e903835a43123f538e93457a2">logout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a8068c929e939ecea06aca1efac9eebc1">isValidLogin</a> ($username, $passwordHash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a0980e17aebadff710bb0e7399ffe80f1">isAllowed</a> ($extID, $right)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a9902ea1bf23e60c6ca1482e9dcd2185b">isAdmin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a672bb282aa51fc3c77fcbe9631a3329f">isNoLoginRequired</a> ($extension, $controller)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_auth.html#a7b65a688435e0d4a87482ccae782b847">checkLoginStatus</a> (array $requestVars, array $originalRequestVars)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Ausführliche Beschreibung</h2>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00030">30</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>
<hr/><h2>Dokumentation der Elementfunktionen</h2>
<a class="anchor" id="a7b65a688435e0d4a87482ccae782b847"></a><!-- doxytag: member="TodoyuAuth::checkLoginStatus" ref="a7b65a688435e0d4a87482ccae782b847" args="(array $requestVars, array $originalRequestVars)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static checkLoginStatus </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>requestVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>originalRequestVars</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Override request vars, if user is not logged in</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$requestVars </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$originalRequestVars </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00202">202</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00202"></a>00202                                                                                             {
<a name="l00203"></a>00203         <span class="keywordflow">if</span>( ! self::isLoggedIn() &amp;&amp; ! self::isNoLoginRequired(<a class="code" href="index_8php.html#ae6d3720416ee08dd8e03f23101c32ace">$requestVars</a>[<span class="stringliteral">&apos;ext&apos;</span>], <a class="code" href="index_8php.html#ae6d3720416ee08dd8e03f23101c32ace">$requestVars</a>[<span class="stringliteral">&apos;ctrl&apos;</span>]) )  {
<a name="l00204"></a>00204             <a class="code" href="index_8php.html#ae6d3720416ee08dd8e03f23101c32ace">$requestVars</a>[<span class="stringliteral">&apos;ext&apos;</span>] = <a class="code" href="filterwidgetconf_8php.html#a5256d5171498a1b9833f7a1fc459aa2f">$GLOBALS</a>[<span class="stringliteral">&apos;CONFIG&apos;</span>][<span class="stringliteral">&apos;AUTH&apos;</span>][<span class="stringliteral">&apos;login&apos;</span>][<span class="stringliteral">&apos;ext&apos;</span>];
<a name="l00205"></a>00205             <a class="code" href="index_8php.html#ae6d3720416ee08dd8e03f23101c32ace">$requestVars</a>[<span class="stringliteral">&apos;ctrl&apos;</span>]= <a class="code" href="filterwidgetconf_8php.html#a5256d5171498a1b9833f7a1fc459aa2f">$GLOBALS</a>[<span class="stringliteral">&apos;CONFIG&apos;</span>][<span class="stringliteral">&apos;AUTH&apos;</span>][<span class="stringliteral">&apos;login&apos;</span>][<span class="stringliteral">&apos;controller&apos;</span>];
<a name="l00206"></a>00206         }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208         <span class="keywordflow">return</span> <a class="code" href="index_8php.html#ae6d3720416ee08dd8e03f23101c32ace">$requestVars</a>;
<a name="l00209"></a>00209     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adb7b9f9f843886bfc4c4bbb0485774a8"></a><!-- doxytag: member="TodoyuAuth::getGroupIDs" ref="adb7b9f9f843886bfc4c4bbb0485774a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getGroupIDs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get group IDs of the current user</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00076">76</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076                                          {
<a name="l00077"></a>00077         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_auth.html#aeeb9b927f96ebe9c88760d70afa39abe">self::getUser</a>()-&gt;getGroupIDs();
<a name="l00078"></a>00078     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeeb9b927f96ebe9c88760d70afa39abe"></a><!-- doxytag: member="TodoyuAuth::getUser" ref="aeeb9b927f96ebe9c88760d70afa39abe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get user object of current user</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd><a class="el" href="class_todoyu_user.html">TodoyuUser</a> </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00057">57</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057                                      {
<a name="l00058"></a>00058         <span class="keywordflow">if</span>( is_null(self::$user) ) {
<a name="l00059"></a>00059             <span class="keywordflow">if</span>( self::getUserID() !== 0 ) {
<a name="l00060"></a>00060                 self::$user = <a class="code" href="class_todoyu_auth.html#aeeb9b927f96ebe9c88760d70afa39abe">TodoyuUserManager::getUser</a>(self::getUserID());
<a name="l00061"></a>00061             } <span class="keywordflow">else</span> {
<a name="l00062"></a>00062                 self::$user = <span class="keyword">new</span> <a class="code" href="class_todoyu_user.html">TodoyuUser</a>(0);
<a name="l00063"></a>00063             }
<a name="l00064"></a>00064         }
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <span class="keywordflow">return</span> self::$user;
<a name="l00067"></a>00067     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a038ac7a8e7c043635e04f4f71ae69690"></a><!-- doxytag: member="TodoyuAuth::getUserID" ref="a038ac7a8e7c043635e04f4f71ae69690" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserID </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get user ID of the currently logged in user 0 means there is no user logged in</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Integer </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00088">88</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00088"></a>00088                                        {
<a name="l00089"></a>00089         <span class="keywordflow">return</span> intval(<a class="code" href="class_todoyu_session_manager.html#a582fb5064806d07a7eaea328ea33eb3f">TodoyuSessionManager::get</a>(<span class="stringliteral">&apos;userid&apos;</span>));
<a name="l00090"></a>00090     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9902ea1bf23e60c6ca1482e9dcd2185b"></a><!-- doxytag: member="TodoyuAuth::isAdmin" ref="a9902ea1bf23e60c6ca1482e9dcd2185b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isAdmin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if current user is admin</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00162">162</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00162"></a>00162                                      {
<a name="l00163"></a>00163         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_auth.html#aeeb9b927f96ebe9c88760d70afa39abe">self::getUser</a>()-&gt;isAdmin();
<a name="l00164"></a>00164     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0980e17aebadff710bb0e7399ffe80f1"></a><!-- doxytag: member="TodoyuAuth::isAllowed" ref="a0980e17aebadff710bb0e7399ffe80f1" args="($extID, $right)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isAllowed </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>right</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if an action is allowed</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$extID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$right </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00151">151</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00151"></a>00151                                                      {
<a name="l00152"></a>00152         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_auth.html#a0980e17aebadff710bb0e7399ffe80f1">TodoyuRightsManager::isAllowed</a>($extID, $right);
<a name="l00153"></a>00153     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6b8d7f313ad7b7c26affac7a74547d50"></a><!-- doxytag: member="TodoyuAuth::isLoggedIn" ref="a6b8d7f313ad7b7c26affac7a74547d50" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isLoggedIn </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if current a user is logged in</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00046">46</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00046"></a>00046                                         {
<a name="l00047"></a>00047         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_auth.html#a038ac7a8e7c043635e04f4f71ae69690">self::getUserID</a>() !== 0;
<a name="l00048"></a>00048     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a672bb282aa51fc3c77fcbe9631a3329f"></a><!-- doxytag: member="TodoyuAuth::isNoLoginRequired" ref="a672bb282aa51fc3c77fcbe9631a3329f" args="($extension, $controller)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isNoLoginRequired </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>controller</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>There can be actions of extensions defined, which do not require a login (I know, this can be a security problem!) This is for example used to verfiy login data by loginpage (which is an normal action)</p>
<p>Extensions can add their own actions to the config array $CONFIG['AUTH']['noLoginRequired'][EXTNAME][] = ACTION</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$extension </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$controller </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00179">179</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00179"></a>00179                                                                       {
<a name="l00180"></a>00180         $extension  = strtolower($extension);
<a name="l00181"></a>00181         $controller = strtolower($controller);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183             <span class="comment">// Check if for this extension an array is defined</span>
<a name="l00184"></a>00184         <span class="keywordflow">if</span>( is_array(<a class="code" href="filterwidgetconf_8php.html#a5256d5171498a1b9833f7a1fc459aa2f">$GLOBALS</a>[<span class="stringliteral">&apos;CONFIG&apos;</span>][<span class="stringliteral">&apos;AUTH&apos;</span>][<span class="stringliteral">&apos;noLoginRequired&apos;</span>][$extension]) ) {
<a name="l00185"></a>00185             <span class="keywordflow">if</span>( in_array($controller, <a class="code" href="filterwidgetconf_8php.html#a5256d5171498a1b9833f7a1fc459aa2f">$GLOBALS</a>[<span class="stringliteral">&apos;CONFIG&apos;</span>][<span class="stringliteral">&apos;AUTH&apos;</span>][<span class="stringliteral">&apos;noLoginRequired&apos;</span>][$extension]) ) {
<a name="l00186"></a>00186                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00187"></a>00187             }
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00191"></a>00191     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8068c929e939ecea06aca1efac9eebc1"></a><!-- doxytag: member="TodoyuAuth::isValidLogin" ref="a8068c929e939ecea06aca1efac9eebc1" args="($username, $passwordHash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isValidLogin </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>passwordHash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if $username and $password are a valid login</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$username Username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$passwordHash Password as md5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00138">138</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00138"></a>00138                                                                   {
<a name="l00139"></a>00139         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_auth.html#a8068c929e939ecea06aca1efac9eebc1">TodoyuUserManager::isValidLogin</a>($username, $passwordHash);
<a name="l00140"></a>00140     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adc57bd5d6131958d114d6150f4d7adbf"></a><!-- doxytag: member="TodoyuAuth::login" ref="adc57bd5d6131958d114d6150f4d7adbf" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static login </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register user as logged in</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00099">99</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099                                           {
<a name="l00100"></a>00100             <span class="comment">// Log successful login</span>
<a name="l00101"></a>00101         <a class="code" href="class_todoyu.html#ac43531f7e0c334e68104bb1942eee286">Todoyu::log</a>(<span class="stringliteral">&apos;Login user (&apos;</span> . $idUser . <span class="charliteral">&apos;)&apos;</span>, <a class="code" href="core_2config_2constants_8php.html#a3d85602ba6769bee9d94a624cb7e2f79">LOG_LEVEL_NOTICE</a>, $idUser);
<a name="l00102"></a>00102             <span class="comment">// Generate a new session id for the logged in user</span>
<a name="l00103"></a>00103         session_regenerate_id(<span class="keyword">true</span>);
<a name="l00104"></a>00104             <span class="comment">// Set current user id</span>
<a name="l00105"></a>00105         <a class="code" href="class_todoyu_session_manager.html#a34579be8e02e1643e2aaeb63f2602e15">TodoyuSessionManager::set</a>(<span class="stringliteral">&apos;userid&apos;</span>, intval($idUser));
<a name="l00106"></a>00106             <span class="comment">// Reload rights</span>
<a name="l00107"></a>00107         <a class="code" href="class_todoyu_rights_manager.html#a789590e2c4f4fc2da6ddb2c40c613492">TodoyuRightsManager::reloadRights</a>();
<a name="l00108"></a>00108             <span class="comment">// Set new user in Todoyu object</span>
<a name="l00109"></a>00109         <a class="code" href="class_todoyu.html#a00c56f071d808278606e395af6496b2b">Todoyu::resetUser</a>();
<a name="l00110"></a>00110     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e34160e903835a43123f538e93457a2"></a><!-- doxytag: member="TodoyuAuth::logout" ref="a1e34160e903835a43123f538e93457a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static logout </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logout current user </p>

<p>Definiert in Zeile <a class="el" href="_todoyu_auth_8class_8php_source.html#l00118">118</a> der Datei <a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00118"></a>00118                                     {
<a name="l00119"></a>00119             <span class="comment">// Clear session</span>
<a name="l00120"></a>00120         <a class="code" href="class_todoyu_session_manager.html#a5640a971574a0d7da935ffcc1410bee3">TodoyuSessionManager::clearSession</a>();
<a name="l00121"></a>00121 
<a name="l00122"></a>00122             <span class="comment">// Delete relogin cookie</span>
<a name="l00123"></a>00123         <a class="code" href="class_todoyu_cookie_login.html#a371f27fb5b4c2733e67fe97902e0df77">TodoyuCookieLogin::removeRemainLoginCookie</a>();
<a name="l00124"></a>00124 
<a name="l00125"></a>00125             <span class="comment">// Generate a new session id for the logged out user</span>
<a name="l00126"></a>00126         session_regenerate_id(<span class="keyword">true</span>);
<a name="l00127"></a>00127     }
</pre></div></p>

</div>
</div>
<hr/>Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei:<ul>
<li>C:/Programme/xampp/htdocs/todoyu2/core/<a class="el" href="_todoyu_auth_8class_8php_source.html">TodoyuAuth.class.php</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Erzeugt am Tue Dec 1 18:32:43 2009 für Todoyu von&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
