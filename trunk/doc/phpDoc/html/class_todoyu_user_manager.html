<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Todoyu: TodoyuUserManager Klassenreferenz</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Erzeugt von Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&nbsp;Informationen</span></a></li>
      <li><a href="namespaces.html"><span>Namensbereiche</span></a></li>
      <li class="current"><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="examples.html"><span>Beispiele</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="hierarchy.html"><span>Klassenhierarchie</span></a></li>
      <li><a href="functions.html"><span>Datenstruktur-Elemente</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TodoyuUserManager Klassenreferenz</h1><!-- doxytag: class="TodoyuUserManager" --><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Öffentliche Methoden</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a39196b3c07aaaa106af9c3309fd2dc04">getUserEmploymentTerms</a> (array $userIDs, $getJobLabels=false)</td></tr>
<tr><td colspan="2"><h2>Öffentliche, statische Methoden</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a781fc7372acdae4fa54609f7893f7b7a">getUser</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a83676b6b5bc43a6f1077a7b5544194f1">getUserArray</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a86bd2180ce817416390cd0aedd17a5c3">getAllUsers</a> (array $fields=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#aa2a4ab738a6a268c85f27971d4b6bcdf">getDataArrayOfUsers</a> (array $userIDs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a938f0e4688d2be53dc1ad71d11a7144a">isValidLogin</a> ($username, $password)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a0207c52f7721b54d30eb0e281096b2ec">isUser</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#adb0cfeed7e39fb4bf48466a6fabb32d8">userExists</a> ($username)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a7d15970174c8b5d421b531d066610f1e">getUserIDbyUsername</a> ($username)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#ac18bad781c8bf939cd634e2b792477e9">addUser</a> (array $data=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a2fde7613d98bf6fd80d3240388b93c66">updateUser</a> ($idUser, array $data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a3733ccb892d5fdb91e7e3b091e95bbd8">saveUser</a> ($idUser, array $data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a4b4a96356b0326af2f1c4b3f60749faf">getUsergroupIDs</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#aec49228f4ae0a214459548eb0b6d6d38">getUsergroups</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#ad1b95d518f63157333955c2057fb0768">deleteUser</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a068c3960920f0534b1aa2790c2b7ea1a">getGroupIDs</a> ($idUser=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a19b1689068b8dc90ff09752e8e111333">getGroups</a> ($idUser=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a3bec68fcde3380351e0bbf7c5db8d042">getInternalUsersIDs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a544857c92ffed4e776147099a74257a6">getInternalUsers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a0e8ed155ec4fccf890b4c2a60c928a66">getStaffUsers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a342aaddc79eaa3d36ecb4969e741f37d">getInternalUsersWithEmploymentTerms</a> ($getAlsoUsersWithoutJobtype=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a03f7320fe860ef56aef025cb9da97bf0">getExternalUsers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a87c678c018fbe7d4646c71b637cf3614">getContactInfos</a> ($idUser, $type=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a0b0c486e86068f68906a8a97522630b5">searchUsers</a> ($sword= '', array $searchFields=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a48595d931ee91f60642463819b4a452b">addUserToCustomer</a> ($idUser, $idCustomer, $idWorkaddress=0, $idJobtype=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a19416963d59dc8aca3f82872d1a5fd1e">getDatabaseRelationLabel</a> (<a class="el" href="class_todoyu_form_element.html">TodoyuFormElement</a> $field, array $record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a20f1940b2e0a5b53fbb418c3210871e9">getLabel</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a3526f3295687fbe1d5237c79063f2778">saveUserForeignRecords</a> (array $data, $idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a52cf019212e0bbaa2c90353d6bdc4000">addUserToGroup</a> ($idUser, $idUsergroup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#ad1c8ab6caac2f3b2bac7b72a79de0891">addUsersToGroup</a> (array $userIDs, $idUsergroup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a874439931d8460f7db2e380371370b99">addUserToGroups</a> ($idUser, array $groupIDs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a4e1529336b0f1c5a152d7d931aaaf4db">removeFromCache</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#ae3b82405234e672342ef152fe28a8cb0">getWorkaddressIDsOfUsers</a> (array $userIDs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a927171bc6902a71d396e95220940bdca">getUsersByBirthdayInTimespan</a> ($dateStart, $dateEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a380301f5ca020358154b9adb52ac7f81">listUserIDsToJobtypes</a> (array $jobTypes, array $prefs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a18dad2be8784f40b7b107f7742dce59e">getSelectedUsersColor</a> (array $userIDs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a6cf8ea18729913bc4b39c5d854cdf850">getUserCompanyRecords</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a6a662c479cee30142a9ada60a9af1bb8">getUserContactinfoRecords</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#aa6c2987540f33273518b7a3ef5537a36">getUserAddressRecords</a> ($idUser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#a427eba23793faeb17fff8a719f0cea02">getUserTypes</a> ()</td></tr>
<tr><td colspan="2"><h2>Datenfelder</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_user_manager.html#adf62e2b172196282218b1ece3d200fa1">TABLE</a> = 'ext_user_user'</td></tr>
</table>
<hr/><a name="_details"></a><h2>Ausführliche Beschreibung</h2>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00029">29</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>
<hr/><h2>Dokumentation der Elementfunktionen</h2>
<a class="anchor" id="ac18bad781c8bf939cd634e2b792477e9"></a><!-- doxytag: member="TodoyuUserManager::addUser" ref="ac18bad781c8bf939cd634e2b792477e9" args="(array $data=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static addUser </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>data</em> = <code>array()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a new user to database</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Integer </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00177">177</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00177"></a>00177                                                           {
<a name="l00178"></a>00178         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;id&apos;</span>]);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;date_create&apos;</span>]    = <a class="code" href="core_2config_2constants_8php.html#ac3e8c0a2b7a9fc38c4f9b5c6b69231f2">NOW</a>;
<a name="l00181"></a>00181         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;id_user_create&apos;</span>] = <a class="code" href="class_todoyu_auth.html#a038ac7a8e7c043635e04f4f71ae69690">TodoyuAuth::getUserID</a>();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;addRecord(self::TABLE, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00184"></a>00184     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1c8ab6caac2f3b2bac7b72a79de0891"></a><!-- doxytag: member="TodoyuUserManager::addUsersToGroup" ref="ad1c8ab6caac2f3b2bac7b72a79de0891" args="(array $userIDs, $idUsergroup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static addUsersToGroup </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>userIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUsergroup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add users to a group</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$userIDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUsergroup </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00570">570</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00570"></a>00570                                                                          {
<a name="l00571"></a>00571         <a class="code" href="class_todoyu_user_manager.html#ad1c8ab6caac2f3b2bac7b72a79de0891">TodoyuUsergroupManager::addUsersToGroup</a>($idUsergroup, <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>);
<a name="l00572"></a>00572     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a48595d931ee91f60642463819b4a452b"></a><!-- doxytag: member="TodoyuUserManager::addUserToCustomer" ref="a48595d931ee91f60642463819b4a452b" args="($idUser, $idCustomer, $idWorkaddress=0, $idJobtype=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static addUserToCustomer </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idCustomer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idWorkaddress</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idJobtype</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00487">487</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00487"></a>00487                                                                                                        {
<a name="l00488"></a>00488         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_user_manager.html#a48595d931ee91f60642463819b4a452b">TodoyuCustomerManager::addUserToCustomer</a>($idCustomer, $idUser, $idWorkaddress, $idJobtype);
<a name="l00489"></a>00489     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a52cf019212e0bbaa2c90353d6bdc4000"></a><!-- doxytag: member="TodoyuUserManager::addUserToGroup" ref="a52cf019212e0bbaa2c90353d6bdc4000" args="($idUser, $idUsergroup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static addUserToGroup </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUsergroup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an user to a group</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUsergroup </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00558">558</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00558"></a>00558                                                                  {
<a name="l00559"></a>00559         <a class="code" href="class_todoyu_user_manager.html#a52cf019212e0bbaa2c90353d6bdc4000">TodoyuUsergroupManager::addUserToGroup</a>($idUsergroup, $idUser);
<a name="l00560"></a>00560     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a874439931d8460f7db2e380371370b99"></a><!-- doxytag: member="TodoyuUserManager::addUserToGroups" ref="a874439931d8460f7db2e380371370b99" args="($idUser, array $groupIDs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static addUserToGroups </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>groupIDs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an user to multiple groups</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$groupIDs </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00582">582</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00582"></a>00582                                                                      {
<a name="l00583"></a>00583         <a class="code" href="class_todoyu_user_manager.html#a874439931d8460f7db2e380371370b99">TodoyuUsergroupManager::addUserToGroups</a>($idUser, $groupIDs);
<a name="l00584"></a>00584     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1b95d518f63157333955c2057fb0768"></a><!-- doxytag: member="TodoyuUserManager::deleteUser" ref="ad1b95d518f63157333955c2057fb0768" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static deleteUser </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete a user in the database (set deleted flag to 1)</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00280">280</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280                                                {
<a name="l00281"></a>00281         $idUser = intval($idUser);
<a name="l00282"></a>00282 
<a name="l00283"></a>00283         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = array(
<a name="l00284"></a>00284             <span class="stringliteral">&apos;deleted&apos;</span>       =&gt; 1,
<a name="l00285"></a>00285             <span class="stringliteral">&apos;date_update&apos;</span>   =&gt; <a class="code" href="core_2config_2constants_8php.html#ac3e8c0a2b7a9fc38c4f9b5c6b69231f2">NOW</a>
<a name="l00286"></a>00286         );
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         <a class="code" href="class_todoyu_user_manager.html#a2fde7613d98bf6fd80d3240388b93c66">self::updateUser</a>($idUser, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00289"></a>00289     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86bd2180ce817416390cd0aedd17a5c3"></a><!-- doxytag: member="TodoyuUserManager::getAllUsers" ref="a86bd2180ce817416390cd0aedd17a5c3" args="(array $fields=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getAllUsers </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code>array()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get all active users</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$fields By default, all fields are selected. You can provide a field list instead </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00073">73</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00073"></a>00073                                                                 {
<a name="l00074"></a>00074         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="keyword">sizeof</span>(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>) === 0 ? <span class="charliteral">&apos;*&apos;</span> : implode(<span class="charliteral">&apos;,&apos;</span>, <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;escapeArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>));
<a name="l00075"></a>00075         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00076"></a>00076         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos;deleted = 0&apos;</span>;
<a name="l00077"></a>00077         $order  = <span class="stringliteral">&apos;lastname, firstname&apos;</span>;
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00080"></a>00080     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a87c678c018fbe7d4646c71b637cf3614"></a><!-- doxytag: member="TodoyuUserManager::getContactInfos" ref="a87c678c018fbe7d4646c71b637cf3614" args="($idUser, $type=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getContactInfos </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get contact infos of given user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$type </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00436">436</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00436"></a>00436                                                                   {
<a name="l00437"></a>00437         $idUser = intval($idUser);
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; ci.*,</span>
<a name="l00440"></a>00440 <span class="stringliteral">                    cit.key,</span>
<a name="l00441"></a>00441 <span class="stringliteral">                    cit.title&apos;</span>;
<a name="l00442"></a>00442         $tables = <span class="stringliteral">&apos; ext_user_contactinfo ci,</span>
<a name="l00443"></a>00443 <span class="stringliteral">                    ext_user_contactinfotype cit,</span>
<a name="l00444"></a>00444 <span class="stringliteral">                    ext_user_mm_user_contactinfo mm&apos;</span>;
<a name="l00445"></a>00445         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_user          = &apos;</span> . $idUser . <span class="stringliteral">&apos; AND</span>
<a name="l00446"></a>00446 <span class="stringliteral">                    mm.id_contactinfo   = ci.id AND</span>
<a name="l00447"></a>00447 <span class="stringliteral">                    ci.id_contactinfotype = cit.id&apos;</span>;
<a name="l00448"></a>00448         $order  = <span class="stringliteral">&apos; ci.id_contactinfotype ASC,</span>
<a name="l00449"></a>00449 <span class="stringliteral">                    ci.preferred DESC&apos;</span>;
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         <span class="keywordflow">if</span>( ! is_null($type) ) {
<a name="l00452"></a>00452             <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a> .= <span class="stringliteral">&apos; AND cit.key LIKE \&apos;%&apos;</span> . <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;escape($type) . <span class="stringliteral">&apos;%\&apos;&apos;</span>;
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00456"></a>00456     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa2a4ab738a6a268c85f27971d4b6bcdf"></a><!-- doxytag: member="TodoyuUserManager::getDataArrayOfUsers" ref="aa2a4ab738a6a268c85f27971d4b6bcdf" args="(array $userIDs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getDataArrayOfUsers </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>userIDs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get data arrays of given users</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$userIDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00090">90</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00090"></a>00090                                                                {
<a name="l00091"></a>00091         <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>    = implode(<span class="charliteral">&apos;,&apos;</span>, <a class="code" href="class_todoyu_array.html#abc24cb3709e3777abbc097959ca0498a">TodoyuArray::intval</a>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>) );
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="charliteral">&apos;*&apos;</span>;
<a name="l00094"></a>00094         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00095"></a>00095         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; deleted = 0 AND active = 1 AND id IN (&apos;</span> . <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a> . <span class="charliteral">&apos;)&apos;</span>;
<a name="l00096"></a>00096         $order  = <span class="stringliteral">&apos;lastname, firstname&apos;</span>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getIndexedArray(<span class="stringliteral">&apos;id&apos;</span>, <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00099"></a>00099     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a19416963d59dc8aca3f82872d1a5fd1e"></a><!-- doxytag: member="TodoyuUserManager::getDatabaseRelationLabel" ref="a19416963d59dc8aca3f82872d1a5fd1e" args="(TodoyuFormElement $field, array $record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getDatabaseRelationLabel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_todoyu_form_element.html">TodoyuFormElement</a> $&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>record</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Database relation function</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$field </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_todoyu_base_object.html">TodoyuBaseObject</a></em>&nbsp;</td><td>$record </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00501">501</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00501"></a>00501                                                                                                 {
<a name="l00502"></a>00502         $idUser = intval($record[<span class="stringliteral">&apos;id&apos;</span>]);
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         <span class="keywordflow">if</span>( $idUser === 0 ) {
<a name="l00505"></a>00505             $label  = <span class="stringliteral">&apos;New user&apos;</span>;
<a name="l00506"></a>00506         } <span class="keywordflow">else</span> {
<a name="l00507"></a>00507             $label  = <a class="code" href="class_todoyu_user_manager.html#a20f1940b2e0a5b53fbb418c3210871e9">self::getLabel</a>($idUser);
<a name="l00508"></a>00508         }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510         <span class="keywordflow">return</span> $label;
<a name="l00511"></a>00511     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a03f7320fe860ef56aef025cb9da97bf0"></a><!-- doxytag: member="TodoyuUserManager::getExternalUsers" ref="a03f7320fe860ef56aef025cb9da97bf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getExternalUsers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get external users (customers?)</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00415">415</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00415"></a>00415                                               {
<a name="l00416"></a>00416         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="charliteral">&apos;*&apos;</span>;
<a name="l00417"></a>00417         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00418"></a>00418         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; type        = &apos;</span> . <a class="code" href="ext_2user_2config_2constants_8php.html#a89e955db207e0b788d98e01e26c6949b">USERTYPE_EXTERNAL</a> . <span class="stringliteral">&apos; AND</span>
<a name="l00419"></a>00419 <span class="stringliteral">                    deleted     = 0 AND</span>
<a name="l00420"></a>00420 <span class="stringliteral">                    active      = 1&apos;</span>;
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         $order  = <span class="stringliteral">&apos;lastname, firstname&apos;</span>;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00425"></a>00425     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a068c3960920f0534b1aa2790c2b7ea1a"></a><!-- doxytag: member="TodoyuUserManager::getGroupIDs" ref="a068c3960920f0534b1aa2790c2b7ea1a" args="($idUser=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getGroupIDs </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get group IDs the user is a member of</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00299">299</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00299"></a>00299                                                     {
<a name="l00300"></a>00300         $idUser = <a class="code" href="functions_8php.html#acd1b461c014cc991f4890c41b9e9375b">userid</a>($idUser);
<a name="l00301"></a>00301 
<a name="l00302"></a>00302         <a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>  = <span class="stringliteral">&apos; g.id&apos;</span>;
<a name="l00303"></a>00303         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = <span class="stringliteral">&apos; ext_user_group g</span>
<a name="l00304"></a>00304 <span class="stringliteral">                    LEFT JOIN ext_user_mm_user_group mm</span>
<a name="l00305"></a>00305 <span class="stringliteral">                        ON mm.id_group = g.id&apos;</span>;
<a name="l00306"></a>00306         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_user  = &apos;</span> . $idUser . <span class="stringliteral">&apos; AND</span>
<a name="l00307"></a>00307 <span class="stringliteral">                    g.deleted   = 0&apos;</span>;
<a name="l00308"></a>00308         $group  = <span class="stringliteral">&apos; g.id&apos;</span>;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getColumn(<a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, $group, <span class="stringliteral">&apos;&apos;</span>, <span class="stringliteral">&apos;&apos;</span>, <span class="stringliteral">&apos;id&apos;</span>);
<a name="l00311"></a>00311     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a19b1689068b8dc90ff09752e8e111333"></a><!-- doxytag: member="TodoyuUserManager::getGroups" ref="a19b1689068b8dc90ff09752e8e111333" args="($idUser=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getGroups </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get group records the user is a member of</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00321">321</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00321"></a>00321                                                   {
<a name="l00322"></a>00322         $idUser = <a class="code" href="functions_8php.html#acd1b461c014cc991f4890c41b9e9375b">userid</a>($idUser);
<a name="l00323"></a>00323 
<a name="l00324"></a>00324         <a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>  = <span class="stringliteral">&apos; g.*&apos;</span>;
<a name="l00325"></a>00325         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = <span class="stringliteral">&apos; ext_user_group g</span>
<a name="l00326"></a>00326 <span class="stringliteral">                    LEFT JOIN ext_user_mm_user_group mm</span>
<a name="l00327"></a>00327 <span class="stringliteral">                        ON mm.id_group = g.id&apos;</span>;
<a name="l00328"></a>00328         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_user  = &apos;</span> . $idUser . <span class="stringliteral">&apos; AND</span>
<a name="l00329"></a>00329 <span class="stringliteral">                    g.deleted   = 0&apos;</span>;
<a name="l00330"></a>00330         $group  = <span class="stringliteral">&apos;g.id&apos;</span>;
<a name="l00331"></a>00331 
<a name="l00332"></a>00332         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, $group);
<a name="l00333"></a>00333     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a544857c92ffed4e776147099a74257a6"></a><!-- doxytag: member="TodoyuUserManager::getInternalUsers" ref="a544857c92ffed4e776147099a74257a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getInternalUsers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get internal users (staff)</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00363">363</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00363"></a>00363                                               {
<a name="l00364"></a>00364         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="charliteral">&apos;*&apos;</span>;
<a name="l00365"></a>00365         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00366"></a>00366         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; type        = &apos;</span> . <a class="code" href="ext_2user_2config_2constants_8php.html#a29651e39eaefed977340da9cf03dfcda">USERTYPE_INTERNAL</a> . <span class="stringliteral">&apos; AND</span>
<a name="l00367"></a>00367 <span class="stringliteral">                    deleted     = 0 AND</span>
<a name="l00368"></a>00368 <span class="stringliteral">                    active      = 1&apos;</span>;
<a name="l00369"></a>00369         $order  = <span class="stringliteral">&apos;lastname, firstname&apos;</span>;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getIndexedArray(<span class="stringliteral">&apos;id&apos;</span>, <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00372"></a>00372     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3bec68fcde3380351e0bbf7c5db8d042"></a><!-- doxytag: member="TodoyuUserManager::getInternalUsersIDs" ref="a3bec68fcde3380351e0bbf7c5db8d042" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getInternalUsersIDs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get IDs of internal users (staff)</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00343">343</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00343"></a>00343                                                  {
<a name="l00344"></a>00344         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos;id&apos;</span>;
<a name="l00345"></a>00345         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00346"></a>00346         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; type        = &apos;</span> . <a class="code" href="ext_2user_2config_2constants_8php.html#a29651e39eaefed977340da9cf03dfcda">USERTYPE_INTERNAL</a> . <span class="stringliteral">&apos; AND</span>
<a name="l00347"></a>00347 <span class="stringliteral">                    deleted     = 0 AND</span>
<a name="l00348"></a>00348 <span class="stringliteral">                    active      = 1&apos;</span>;
<a name="l00349"></a>00349         $order  = <span class="stringliteral">&apos;lastname, firstname&apos;</span>;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351         $res    = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getIndexedArray(<span class="stringliteral">&apos;id&apos;</span>, <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00352"></a>00352 
<a name="l00353"></a>00353         <span class="keywordflow">return</span> array_keys($res);
<a name="l00354"></a>00354     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a342aaddc79eaa3d36ecb4969e741f37d"></a><!-- doxytag: member="TodoyuUserManager::getInternalUsersWithEmploymentTerms" ref="a342aaddc79eaa3d36ecb4969e741f37d" args="($getAlsoUsersWithoutJobtype=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getInternalUsersWithEmploymentTerms </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>getAlsoUsersWithoutJobtype</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get internal users (staff) and their assigned jobtype</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Boolean</em>&nbsp;</td><td>$getAlsoUsersWithoutJobtype </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00393">393</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00393"></a>00393                                                                                                     {
<a name="l00394"></a>00394         <a class="code" href="user_8php.html#a28005d22fa7ef2dfe215ad886b497d9c">$users</a>  = <a class="code" href="class_todoyu_user_manager.html#a544857c92ffed4e776147099a74257a6">self::getInternalUsers</a>();
<a name="l00395"></a>00395         <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>= array_keys(<a class="code" href="user_8php.html#a28005d22fa7ef2dfe215ad886b497d9c">$users</a>);
<a name="l00396"></a>00396 
<a name="l00397"></a>00397             <span class="comment">// Get employment terms: jobtype, efficiency, daily presence</span>
<a name="l00398"></a>00398         $userEmploymentTerms    = <a class="code" href="class_todoyu_user_manager.html#a39196b3c07aaaa106af9c3309fd2dc04">self::getUserEmploymentTerms</a>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>, <span class="keyword">true</span>);
<a name="l00399"></a>00399 
<a name="l00400"></a>00400         <span class="keywordflow">foreach</span>(<a class="code" href="user_8php.html#a28005d22fa7ef2dfe215ad886b497d9c">$users</a> as $idUser =&gt; $userData) {
<a name="l00401"></a>00401             <span class="keywordflow">if</span> (array_key_exists($idUser, $userEmploymentTerms) )
<a name="l00402"></a>00402             <a class="code" href="user_8php.html#a28005d22fa7ef2dfe215ad886b497d9c">$users</a>[$idUser] = array_merge($userData, $userEmploymentTerms[$idUser]);
<a name="l00403"></a>00403         }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405         <span class="keywordflow">return</span> <a class="code" href="user_8php.html#a28005d22fa7ef2dfe215ad886b497d9c">$users</a>;
<a name="l00406"></a>00406     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a20f1940b2e0a5b53fbb418c3210871e9"></a><!-- doxytag: member="TodoyuUserManager::getLabel" ref="a20f1940b2e0a5b53fbb418c3210871e9" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getLabel </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get label function</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$userID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00521">521</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00521"></a>00521                                                 {
<a name="l00522"></a>00522         $idUser = intval($idUser);
<a name="l00523"></a>00523 
<a name="l00524"></a>00524         <span class="keywordflow">return</span> $idUser !== 0 ? <a class="code" href="class_todoyu_user_manager.html#a781fc7372acdae4fa54609f7893f7b7a">self::getUser</a>($idUser)-&gt;getLabel() : <span class="stringliteral">&apos;&apos;</span>;
<a name="l00525"></a>00525     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a18dad2be8784f40b7b107f7742dce59e"></a><!-- doxytag: member="TodoyuUserManager::getSelectedUsersColor" ref="a18dad2be8784f40b7b107f7742dce59e" args="(array $userIDs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getSelectedUsersColor </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>userIDs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get color IDs to given user id's (users are enumeratedly given colors by their position in the list)</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$selectedUserIDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00738">738</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00738"></a>00738                                                                  {
<a name="l00739"></a>00739         <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>    = <a class="code" href="class_todoyu_array.html#abc24cb3709e3777abbc097959ca0498a">TodoyuArray::intval</a>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00740"></a>00740         $cacheKey   = <span class="stringliteral">&apos;usercolors:&apos;</span> . md5(serialize(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>));
<a name="l00741"></a>00741 
<a name="l00742"></a>00742         <span class="keywordflow">if</span>( ! <a class="code" href="class_todoyu_cache.html#a5bf9f381364c1c275fc28fe9cc4a40f3">TodoyuCache::isIn</a>($cacheKey) ) {
<a name="l00743"></a>00743             $colors = array();
<a name="l00744"></a>00744             $internalUserIDs = <a class="code" href="class_todoyu_user_manager.html#a3bec68fcde3380351e0bbf7c5db8d042">TodoyuUserManager::getInternalUsersIDs</a>();
<a name="l00745"></a>00745 
<a name="l00746"></a>00746                 <span class="comment">// Enumerate users by system specific color to resp. list position</span>
<a name="l00747"></a>00747             <span class="keywordflow">foreach</span>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a> as $idUser) {
<a name="l00748"></a>00748                 $colors[$idUser]    = <a class="code" href="class_todoyu_colors.html#ace24d68198807ffdc8e4ab7784dd8a54">TodoyuColors::getColorArray</a>($internalUserIDs[$idUser]);
<a name="l00749"></a>00749             }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751             <a class="code" href="class_todoyu_cache.html#aaa83698e63dd0c924b95b2f9d30b961b">TodoyuCache::set</a>($cacheKey, $colors);
<a name="l00752"></a>00752         }
<a name="l00753"></a>00753 
<a name="l00754"></a>00754         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_cache.html#a15e2679f2a8f6fa4d60757f4d65413ac">TodoyuCache::get</a>($cacheKey);
<a name="l00755"></a>00755     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0e8ed155ec4fccf890b4c2a60c928a66"></a><!-- doxytag: member="TodoyuUserManager::getStaffUsers" ref="a0e8ed155ec4fccf890b4c2a60c928a66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getStaffUsers </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alias of User::getInternalUsers()</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00381">381</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00381"></a>00381                                            {
<a name="l00382"></a>00382         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_user_manager.html#a544857c92ffed4e776147099a74257a6">self::getInternalUsers</a>();
<a name="l00383"></a>00383     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a781fc7372acdae4fa54609f7893f7b7a"></a><!-- doxytag: member="TodoyuUserManager::getUser" ref="a781fc7372acdae4fa54609f7893f7b7a" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUser </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a user object. This functions uses the cache to prevent double object initialisation</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd><a class="el" href="class_todoyu_user.html">TodoyuUser</a> </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00045">45</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00045"></a>00045                                             {
<a name="l00046"></a>00046         $idUser = intval($idUser);
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_cache.html#ac4ee8343209de75d7fc2392648f4072b">TodoyuCache::getRecord</a>(<span class="stringliteral">&apos;TodoyuUser&apos;</span>, intval($idUser));
<a name="l00049"></a>00049     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa6c2987540f33273518b7a3ef5537a36"></a><!-- doxytag: member="TodoyuUserManager::getUserAddressRecords" ref="aa6c2987540f33273518b7a3ef5537a36" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserAddressRecords </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get address records for an user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00806">806</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00806"></a>00806                                                           {
<a name="l00807"></a>00807         $idUser = intval($idUser);
<a name="l00808"></a>00808 
<a name="l00809"></a>00809         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; a.*&apos;</span>;
<a name="l00810"></a>00810         $tables = <span class="stringliteral">&apos; ext_user_address a,</span>
<a name="l00811"></a>00811 <span class="stringliteral">                    ext_user_mm_user_address mm&apos;</span>;
<a name="l00812"></a>00812         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_address   = a.id AND</span>
<a name="l00813"></a>00813 <span class="stringliteral">                    mm.id_user      = &apos;</span> . $idUser;
<a name="l00814"></a>00814 
<a name="l00815"></a>00815         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00816"></a>00816     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a83676b6b5bc43a6f1077a7b5544194f1"></a><!-- doxytag: member="TodoyuUserManager::getUserArray" ref="a83676b6b5bc43a6f1077a7b5544194f1" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserArray </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get user data array</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00059">59</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059                                                  {
<a name="l00060"></a>00060         $idUser = intval($idUser);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getRecord(self::TABLE, $idUser);
<a name="l00063"></a>00063     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6cf8ea18729913bc4b39c5d854cdf850"></a><!-- doxytag: member="TodoyuUserManager::getUserCompanyRecords" ref="a6cf8ea18729913bc4b39c5d854cdf850" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserCompanyRecords </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get company records for an user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00765">765</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00765"></a>00765                                                           {
<a name="l00766"></a>00766         $idUser = intval($idUser);
<a name="l00767"></a>00767 
<a name="l00768"></a>00768         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; mm.*,</span>
<a name="l00769"></a>00769 <span class="stringliteral">                    c.*&apos;</span>;
<a name="l00770"></a>00770         $tables = <span class="stringliteral">&apos; ext_user_customer c,</span>
<a name="l00771"></a>00771 <span class="stringliteral">                    ext_user_mm_customer_user mm&apos;</span>;
<a name="l00772"></a>00772         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_customer  = c.id AND</span>
<a name="l00773"></a>00773 <span class="stringliteral">                    mm.id_user      = &apos;</span> . $idUser;
<a name="l00774"></a>00774 
<a name="l00775"></a>00775         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00776"></a>00776     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a662c479cee30142a9ada60a9af1bb8"></a><!-- doxytag: member="TodoyuUserManager::getUserContactinfoRecords" ref="a6a662c479cee30142a9ada60a9af1bb8" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserContactinfoRecords </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get contact records for an user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00786">786</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00786"></a>00786                                                               {
<a name="l00787"></a>00787         $idUser = intval($idUser);
<a name="l00788"></a>00788 
<a name="l00789"></a>00789         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; c.*&apos;</span>;
<a name="l00790"></a>00790         $tables = <span class="stringliteral">&apos; ext_user_contactinfo c,</span>
<a name="l00791"></a>00791 <span class="stringliteral">                    ext_user_mm_user_contactinfo mm&apos;</span>;
<a name="l00792"></a>00792         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; mm.id_contactinfo   = c.id AND</span>
<a name="l00793"></a>00793 <span class="stringliteral">                    mm.id_user          = &apos;</span> . $idUser;
<a name="l00794"></a>00794 
<a name="l00795"></a>00795         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00796"></a>00796     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a39196b3c07aaaa106af9c3309fd2dc04"></a><!-- doxytag: member="TodoyuUserManager::getUserEmploymentTerms" ref="a39196b3c07aaaa106af9c3309fd2dc04" args="(array $userIDs, $getJobLabels=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserEmploymentTerms </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>userIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>getJobLabels</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get employment terms (jobtype, efficiency, daily presence) of users</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$userIDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Boolean</em>&nbsp;</td><td>$getJobLabels </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00709">709</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00709"></a>00709                                                                                   {
<a name="l00710"></a>00710         <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>    = <a class="code" href="class_todoyu_array.html#abc24cb3709e3777abbc097959ca0498a">TodoyuArray::intval</a>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00711"></a>00711 
<a name="l00712"></a>00712         $employment = array();
<a name="l00713"></a>00713         <span class="keywordflow">if</span> (count(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>) &gt; 0) {
<a name="l00714"></a>00714             $indexField = <span class="stringliteral">&apos;id_user&apos;</span>;
<a name="l00715"></a>00715 
<a name="l00716"></a>00716             <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>      = <span class="stringliteral">&apos;c.id_user, c.id_workaddress, c.id_jobtype&apos;</span>;
<a name="l00717"></a>00717             <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>     .= <span class="stringliteral">&apos;, c.ext_resources_efficiency, c.ext_resources_wl_mon_am, c.ext_resources_wl_mon_pm, c.ext_resources_wl_tue_am, c.ext_resources_wl_tue_pm, c.ext_resources_wl_wed_am, c.ext_resources_wl_wed_pm, c.ext_resources_wl_thu_am, c.ext_resources_wl_thu_pm, c.ext_resources_wl_fri_am, c.ext_resources_wl_fri_pm, c.ext_resources_wl_sat_am, c.ext_resources_wl_sat_pm, c.ext_resources_wl_sun_am, c.ext_resources_wl_sun_pm&apos;</span>;
<a name="l00718"></a>00718             <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>     .= <span class="stringliteral">&apos;, c.ext_resources_wl_mon_am + c.ext_resources_wl_mon_pm + c.ext_resources_wl_tue_am + c.ext_resources_wl_tue_pm + c.ext_resources_wl_wed_am + c.ext_resources_wl_wed_pm + c.ext_resources_wl_thu_am + c.ext_resources_wl_thu_pm + c.ext_resources_wl_fri_am + c.ext_resources_wl_fri_pm + c.ext_resources_wl_sat_am + c.ext_resources_wl_sat_pm + c.ext_resources_wl_sun_am + c.ext_resources_wl_sun_pm as generalPresenceTotal&apos;</span>;
<a name="l00719"></a>00719             <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>     .= ($getJobLabels ? <span class="stringliteral">&apos;, j.title as jobtitle&apos;</span> : <span class="stringliteral">&apos;&apos;</span>);
<a name="l00720"></a>00720 
<a name="l00721"></a>00721             $tables     = <span class="stringliteral">&apos;ext_user_mm_customer_user c&apos;</span> . ($getJobLabels ? <span class="stringliteral">&apos;, ext_user_jobtype j&apos;</span> : <span class="stringliteral">&apos;&apos;</span>);
<a name="l00722"></a>00722             <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>      = <span class="stringliteral">&apos;c.id_user IN (&apos;</span> . implode(<span class="charliteral">&apos;,&apos;</span>, <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>) . <span class="stringliteral">&apos;) &apos;</span>;
<a name="l00723"></a>00723 
<a name="l00724"></a>00724             $employment = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getIndexedArray($indexField, <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00725"></a>00725         }
<a name="l00726"></a>00726 
<a name="l00727"></a>00727         <span class="keywordflow">return</span> $employment;
<a name="l00728"></a>00728     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4b4a96356b0326af2f1c4b3f60749faf"></a><!-- doxytag: member="TodoyuUserManager::getUsergroupIDs" ref="a4b4a96356b0326af2f1c4b3f60749faf" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUsergroupIDs </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get usergroups of an user </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00249">249</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00249"></a>00249                                                     {
<a name="l00250"></a>00250         $idUser = intval($idUser);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>  = <span class="stringliteral">&apos;id_group&apos;</span>;
<a name="l00253"></a>00253         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = <span class="stringliteral">&apos;ext_user_mm_user_group&apos;</span>;
<a name="l00254"></a>00254         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos;id_user = &apos;</span> . $idUser;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getColumn(<a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00257"></a>00257     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aec49228f4ae0a214459548eb0b6d6d38"></a><!-- doxytag: member="TodoyuUserManager::getUsergroups" ref="aec49228f4ae0a214459548eb0b6d6d38" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUsergroups </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00261">261</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00261"></a>00261                                                   {
<a name="l00262"></a>00262         $idUser = intval($idUser);
<a name="l00263"></a>00263 
<a name="l00264"></a>00264         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; g.*&apos;</span>;
<a name="l00265"></a>00265         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = <span class="stringliteral">&apos; ext_user_mm_user_group mm,</span>
<a name="l00266"></a>00266 <span class="stringliteral">                    ext_user_group g&apos;</span>;
<a name="l00267"></a>00267         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; id_user     = &apos;</span> . $idUser . <span class="stringliteral">&apos; AND</span>
<a name="l00268"></a>00268 <span class="stringliteral">                    mm.id_group = g.id&apos;</span>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00271"></a>00271     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7d15970174c8b5d421b531d066610f1e"></a><!-- doxytag: member="TodoyuUserManager::getUserIDbyUsername" ref="a7d15970174c8b5d421b531d066610f1e" args="($username)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserIDbyUsername </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get user data by username</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$username </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00158">158</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158                                                             {
<a name="l00159"></a>00159         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos;id&apos;</span>;
<a name="l00160"></a>00160         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00161"></a>00161         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos;username = &apos;</span> . <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;quote($username, <span class="keyword">true</span>);
<a name="l00162"></a>00162         $limit  = <span class="charliteral">&apos;1&apos;</span>;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         $row    = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;doSelectRow(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, <span class="stringliteral">&apos;&apos;</span>, $limit);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="keywordflow">return</span>  $row[<span class="stringliteral">&apos;id&apos;</span>];
<a name="l00167"></a>00167     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a927171bc6902a71d396e95220940bdca"></a><!-- doxytag: member="TodoyuUserManager::getUsersByBirthdayInTimespan" ref="a927171bc6902a71d396e95220940bdca" args="($dateStart, $dateEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUsersByBirthdayInTimespan </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dateStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dateEnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get users with birthdays within given range of timestamps (regardless of birth year)</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$dateStart </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$dateEnd </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array birthdays </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00637">637</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00637"></a>00637                                                                               {
<a name="l00638"></a>00638         $dateStart  = intval($dateStart);
<a name="l00639"></a>00639         $dateEnd    = intval($dateEnd);
<a name="l00640"></a>00640 
<a name="l00641"></a>00641         $dayStart   = date(<span class="charliteral">&apos;j&apos;</span>, $dateStart);
<a name="l00642"></a>00642         $monthStart = date(<span class="charliteral">&apos;n&apos;</span>, $dateStart);
<a name="l00643"></a>00643 
<a name="l00644"></a>00644         $dayEnd     = date(<span class="charliteral">&apos;j&apos;</span>, $dateEnd);
<a name="l00645"></a>00645         $monthEnd   = date(<span class="charliteral">&apos;n&apos;</span>, $dateEnd);
<a name="l00646"></a>00646 
<a name="l00647"></a>00647         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos; id, email, active, firstname, lastname, shortname, gender, title,</span>
<a name="l00648"></a>00648 <span class="stringliteral">                    UNIX_TIMESTAMP( birthday ) as tstamp_birthday,</span>
<a name="l00649"></a>00649 <span class="stringliteral">                    birthday, SUBSTRING(birthday, 6) as birthday_md, SUBSTRING(birthday, 1, 4) as year,</span>
<a name="l00650"></a>00650 <span class="stringliteral">                    ((UNIX_TIMESTAMP( NOW() ) - UNIX_TIMESTAMP( birthday ) ) / 31536000 ) as age</span>
<a name="l00651"></a>00651 <span class="stringliteral">                    &apos;</span>;
<a name="l00652"></a>00652 
<a name="l00653"></a>00653         $tables = <span class="stringliteral">&apos;ext_user_user&apos;</span>;
<a name="l00654"></a>00654 
<a name="l00655"></a>00655         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  =  <span class="stringliteral">&apos; deleted    = 0 &apos;</span>;
<a name="l00656"></a>00656         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  .= <span class="stringliteral">&apos; AND ( MONTH(birthday) &gt;= &apos;</span> . $monthStart . <span class="stringliteral">&apos; AND MONTH(birthday) &lt;= &apos;</span>  . $monthEnd . <span class="stringliteral">&apos; )&apos;</span>;
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         $order  = <span class="stringliteral">&apos;birthday_md&apos;</span>;
<a name="l00659"></a>00659 
<a name="l00660"></a>00660         $res    = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getIndexedArray(<span class="stringliteral">&apos;id&apos;</span>, <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, $tables, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00661"></a>00661 
<a name="l00662"></a>00662         $birthdays = array();
<a name="l00663"></a>00663             <span class="comment">// Remove birthdays outside the exact given days range</span>
<a name="l00664"></a>00664         <span class="keywordflow">foreach</span>($res as $id =&gt; $birthday) {
<a name="l00665"></a>00665             list($month, $day)  = explode(<span class="charliteral">&apos;-&apos;</span>, $birthday[<span class="stringliteral">&apos;birthday_md&apos;</span>]);
<a name="l00666"></a>00666             <span class="keywordflow">if</span> (    ( ($day &gt;= $dayStart &amp;&amp; $month == $monthStart) || $month &gt; $monthStart)
<a name="l00667"></a>00667                 &amp;&amp;  ( ($day &lt;= $dayEnd &amp;&amp; $month &lt;= $monthEnd) || $month == $monthStart )
<a name="l00668"></a>00668             ) {
<a name="l00669"></a>00669                 $birthdays[$id] = $birthday;
<a name="l00670"></a>00670             }
<a name="l00671"></a>00671         }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673         <span class="keywordflow">return</span> $birthdays;
<a name="l00674"></a>00674     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a427eba23793faeb17fff8a719f0cea02"></a><!-- doxytag: member="TodoyuUserManager::getUserTypes" ref="a427eba23793faeb17fff8a719f0cea02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getUserTypes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get usertypes</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00825">825</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00825"></a>00825                                           {
<a name="l00826"></a>00826         <span class="keywordflow">return</span> <a class="code" href="filterwidgetconf_8php.html#a5256d5171498a1b9833f7a1fc459aa2f">$GLOBALS</a>[<span class="stringliteral">&apos;CONFIG&apos;</span>][<span class="stringliteral">&apos;EXT&apos;</span>][<span class="stringliteral">&apos;user&apos;</span>][<span class="stringliteral">&apos;usertype&apos;</span>];
<a name="l00827"></a>00827     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae3b82405234e672342ef152fe28a8cb0"></a><!-- doxytag: member="TodoyuUserManager::getWorkaddressIDsOfUsers" ref="ae3b82405234e672342ef152fe28a8cb0" args="(array $userIDs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getWorkaddressIDsOfUsers </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>userIDs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get IDs of working addresses of given user(s)</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$userIDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00608">608</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00608"></a>00608                                                                     {
<a name="l00609"></a>00609         <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>    = <a class="code" href="class_todoyu_array.html#abc24cb3709e3777abbc097959ca0498a">TodoyuArray::intval</a>(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00610"></a>00610         $addressIDs = array();
<a name="l00611"></a>00611 
<a name="l00612"></a>00612         <span class="keywordflow">if</span> (count(<a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>) &gt; 0) {
<a name="l00613"></a>00613             <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="stringliteral">&apos;id_user,id_workaddress&apos;</span>;
<a name="l00614"></a>00614             <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = <span class="stringliteral">&apos;ext_user_mm_customer_user&apos;</span>;
<a name="l00615"></a>00615             <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos;id_user IN (&apos;</span> . implode(<span class="charliteral">&apos;,&apos;</span>, <a class="code" href="user_8php.html#a307cce3be8d8dbb46d0c949fddbf6bd0">$userIDs</a>) . <span class="stringliteral">&apos;) &apos;</span>;
<a name="l00616"></a>00616             $res    = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00617"></a>00617 
<a name="l00618"></a>00618             <span class="keywordflow">foreach</span>($res as $entry) {
<a name="l00619"></a>00619                 $addressIDs[]   = $entry[<span class="stringliteral">&apos;id_workaddress&apos;</span>];
<a name="l00620"></a>00620             }
<a name="l00621"></a>00621 
<a name="l00622"></a>00622             $addressIDs = array_unique($addressIDs);
<a name="l00623"></a>00623         }
<a name="l00624"></a>00624 
<a name="l00625"></a>00625         <span class="keywordflow">return</span> $addressIDs;
<a name="l00626"></a>00626     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0207c52f7721b54d30eb0e281096b2ec"></a><!-- doxytag: member="TodoyuUserManager::isUser" ref="a0207c52f7721b54d30eb0e281096b2ec" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isUser </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if $idUser is a valid user ID</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00128">128</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00128"></a>00128                                              {
<a name="l00129"></a>00129         $idUser = intval( $idUser );
<a name="l00130"></a>00130 
<a name="l00131"></a>00131         <a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>  = <span class="stringliteral">&apos;id&apos;</span>;
<a name="l00132"></a>00132         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00133"></a>00133         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos;id = &apos;</span> . $idUser;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;hasResult(<a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00136"></a>00136     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a938f0e4688d2be53dc1ad71d11a7144a"></a><!-- doxytag: member="TodoyuUserManager::isValidLogin" ref="a938f0e4688d2be53dc1ad71d11a7144a" args="($username, $password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isValidLogin </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if $username and $password are a valid login</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$username Username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$password Password as sha1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00110">110</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00110"></a>00110                                                               {
<a name="l00111"></a>00111         <a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>  = <span class="stringliteral">&apos;id&apos;</span>;
<a name="l00112"></a>00112         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00113"></a>00113         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>  = <span class="stringliteral">&apos; username = &apos;</span> . <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;quote($username, <span class="keyword">true</span>) . <span class="stringliteral">&apos; AND</span>
<a name="l00114"></a>00114 <span class="stringliteral">                    password = &apos;</span> . <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;quote($password, <span class="keyword">true</span>) . <span class="stringliteral">&apos; AND</span>
<a name="l00115"></a>00115 <span class="stringliteral">                    active   = 1&apos;</span>;
<a name="l00116"></a>00116 
<a name="l00117"></a>00117         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;hasResult(<a class="code" href="acknowledged__tasks_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>);
<a name="l00118"></a>00118     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a380301f5ca020358154b9adb52ac7f81"></a><!-- doxytag: member="TodoyuUserManager::listUserIDsToJobtypes" ref="a380301f5ca020358154b9adb52ac7f81" args="(array $jobTypes, array $prefs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static listUserIDsToJobtypes </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>jobTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>prefs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Have user IDs listed comma-separated</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$jobTypes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$prefs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Mixed</em>&nbsp;</td><td>$prefs Boolean / Array </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00685">685</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00685"></a>00685                                                                                 {
<a name="l00686"></a>00686         <span class="keywordflow">foreach</span>($jobTypes as $idJobtype =&gt; $jobtypeData) {
<a name="l00687"></a>00687             $jobTypes[$idJobtype][<span class="stringliteral">&apos;user_ids&apos;</span>] = implode(<span class="charliteral">&apos;,&apos;</span>, $jobTypes[$idJobtype][<span class="stringliteral">&apos;user_ids&apos;</span>] );
<a name="l00688"></a>00688 
<a name="l00689"></a>00689                 <span class="comment">// Set job types selected as stored in user prefs</span>
<a name="l00690"></a>00690             <span class="keywordflow">if</span> (is_array($prefs[<span class="stringliteral">&apos;selectedJobtypeIDs&apos;</span>]) &amp;&amp; in_array($idJobtype, $prefs[<span class="stringliteral">&apos;selectedJobtypeIDs&apos;</span>]) ) {
<a name="l00691"></a>00691                 $jobTypes[ $idJobtype ][<span class="stringliteral">&apos;selected&apos;</span>] = 1;
<a name="l00692"></a>00692             } <span class="keywordflow">else</span> {
<a name="l00693"></a>00693                 $jobTypes[ $idJobtype ][<span class="stringliteral">&apos;selected&apos;</span>] = 0;
<a name="l00694"></a>00694             }
<a name="l00695"></a>00695         }
<a name="l00696"></a>00696 
<a name="l00697"></a>00697         <span class="keywordflow">return</span> $jobTypes;
<a name="l00698"></a>00698     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e1529336b0f1c5a152d7d931aaaf4db"></a><!-- doxytag: member="TodoyuUserManager::removeFromCache" ref="a4e1529336b0f1c5a152d7d931aaaf4db" args="($idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static removeFromCache </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove user object from cache</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00593">593</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00593"></a>00593                                                     {
<a name="l00594"></a>00594         $idUser     = intval($idUser);
<a name="l00595"></a>00595 
<a name="l00596"></a>00596         <a class="code" href="class_todoyu_cache.html#ac7002e8c3a9e9ebe38be4a316bfda43e">TodoyuCache::removeRecord</a>(<span class="stringliteral">&apos;TodoyuUser&apos;</span>, $idUser);
<a name="l00597"></a>00597         <a class="code" href="class_todoyu_cache.html#ab6211daed6f7b5048721aa9e2611a8e3">TodoyuCache::removeRecordQuery</a>(self::TABLE, $idUser);
<a name="l00598"></a>00598     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3733ccb892d5fdb91e7e3b091e95bbd8"></a><!-- doxytag: member="TodoyuUserManager::saveUser" ref="a3733ccb892d5fdb91e7e3b091e95bbd8" args="($idUser, array $data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static saveUser </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Integer </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00212">212</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00212"></a>00212                                                           {
<a name="l00213"></a>00213         $idUser = intval($idUser);
<a name="l00214"></a>00214         <a class="code" href="ext_2dev_2controller_2form_8php.html#aec7b9eb932d6a244586d33c16797dc4a">$xmlPath</a>= <span class="stringliteral">&apos;ext/user/config/form/user.xml&apos;</span>;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;id&apos;</span>]);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 
<a name="l00219"></a>00219             <span class="comment">// Create user in database if not existing</span>
<a name="l00220"></a>00220         <span class="keywordflow">if</span>( $idUser === 0 ) {
<a name="l00221"></a>00221             $idUser = <a class="code" href="class_todoyu_user_manager.html#ac18bad781c8bf939cd634e2b792477e9">self::addUser</a>(array());
<a name="l00222"></a>00222         }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224             <span class="comment">// Check password update</span>
<a name="l00225"></a>00225         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password&apos;</span>]);
<a name="l00226"></a>00226         <span class="keywordflow">if</span>( strlen(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password_first&apos;</span>]) &gt; 0 ) {
<a name="l00227"></a>00227             <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password&apos;</span>] = md5(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password_first&apos;</span>]);
<a name="l00228"></a>00228         }
<a name="l00229"></a>00229         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password_first&apos;</span>]);
<a name="l00230"></a>00230         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;password_second&apos;</span>]);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232             <span class="comment">// Call internal save function</span>
<a name="l00233"></a>00233         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = <a class="code" href="class_todoyu_user_manager.html#a3526f3295687fbe1d5237c79063f2778">self::saveUserForeignRecords</a>(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>, $idUser);
<a name="l00234"></a>00234             <span class="comment">// Call hooked save functions</span>
<a name="l00235"></a>00235         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = <a class="code" href="class_todoyu_form_hook.html#a661781c57898f2b71c3c241515510324">TodoyuFormHook::callSaveData</a>(<a class="code" href="ext_2dev_2controller_2form_8php.html#aec7b9eb932d6a244586d33c16797dc4a">$xmlPath</a>, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>, $idUser);
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         <a class="code" href="class_todoyu_user_manager.html#a2fde7613d98bf6fd80d3240388b93c66">self::updateUser</a>($idUser, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="keywordflow">return</span> $idUser;
<a name="l00240"></a>00240     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3526f3295687fbe1d5237c79063f2778"></a><!-- doxytag: member="TodoyuUserManager::saveUserForeignRecords" ref="a3526f3295687fbe1d5237c79063f2778" args="(array $data, $idUser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static saveUserForeignRecords </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When user form is saved, extract usergroups from data and save them</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Array </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00536">536</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00536"></a>00536                                                                         {
<a name="l00537"></a>00537         $idUser     = intval($idUser);
<a name="l00538"></a>00538 
<a name="l00539"></a>00539             <span class="comment">// Save customer records</span>
<a name="l00540"></a>00540         <span class="keywordflow">if</span>( ! empty(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;usergroup&apos;</span>]) ) {
<a name="l00541"></a>00541             $usergroupIDs   = array_unique(<a class="code" href="class_todoyu_array.html#ad2c7a0fa47bdfe76e832d0145aecbc20">TodoyuArray::getColumn</a>(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;usergroup&apos;</span>], <span class="stringliteral">&apos;id&apos;</span>));
<a name="l00542"></a>00542 
<a name="l00543"></a>00543             <a class="code" href="class_todoyu_user_manager.html#a874439931d8460f7db2e380371370b99">self::addUserToGroups</a>($idUser, $usergroupIDs);
<a name="l00544"></a>00544         }
<a name="l00545"></a>00545         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;usergroup&apos;</span>]);
<a name="l00546"></a>00546 
<a name="l00547"></a>00547         <span class="keywordflow">return</span> <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>;
<a name="l00548"></a>00548     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b0c486e86068f68906a8a97522630b5"></a><!-- doxytag: member="TodoyuUserManager::searchUsers" ref="a0b0c486e86068f68906a8a97522630b5" args="($sword= '', array $searchFields=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static searchUsers </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sword</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>searchFields</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Search for user</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$searchFieldsArray </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$search </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Ref </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00467">467</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00467"></a>00467                                                                                 {
<a name="l00468"></a>00468         <a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> = <span class="charliteral">&apos;*&apos;</span>;
<a name="l00469"></a>00469         <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>  = self::TABLE;
<a name="l00470"></a>00470         $order  = <span class="stringliteral">&apos;lastname&apos;</span>;
<a name="l00471"></a>00471         $swords = <a class="code" href="class_todoyu_div.html#a9a39fab5d30dc7598391cde6f1d49585">TodoyuDiv::trimExplode</a>(<span class="charliteral">&apos; &apos;</span>, $sword);
<a name="l00472"></a>00472 
<a name="l00473"></a>00473         $searchFields   = is_null($searchFields) ? array(<span class="stringliteral">&apos;username&apos;</span>, <span class="stringliteral">&apos;email&apos;</span>, <span class="stringliteral">&apos;firstname&apos;</span>, <span class="stringliteral">&apos;lastname&apos;</span>, <span class="stringliteral">&apos;shortname&apos;</span>) : $searchFields;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475         <span class="keywordflow">if</span>( <span class="keyword">sizeof</span>($swords) &gt; 0 ) {
<a name="l00476"></a>00476             <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a> = <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;buildLikeQuery($swords, $searchFields);
<a name="l00477"></a>00477         } <span class="keywordflow">else</span> {
<a name="l00478"></a>00478             <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a> = <span class="charliteral">&apos;1&apos;</span>;
<a name="l00479"></a>00479         }
<a name="l00480"></a>00480 
<a name="l00481"></a>00481         <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a> .= <span class="stringliteral">&apos; AND deleted = 0&apos;</span>;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;getArray(<a class="code" href="daily__workload_8php.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>, <a class="code" href="acknowledged__after_8php.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="acknowledged__after_8php.html#aa2080b85972946a82a6ec215a34f7d69">$where</a>, <span class="stringliteral">&apos;&apos;</span>, $order);
<a name="l00484"></a>00484     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2fde7613d98bf6fd80d3240388b93c66"></a><!-- doxytag: member="TodoyuUserManager::updateUser" ref="a2fde7613d98bf6fd80d3240388b93c66" args="($idUser, array $data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static updateUser </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update a user in the database</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$idUser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00195">195</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00195"></a>00195                                                             {
<a name="l00196"></a>00196         $idUser = intval($idUser);
<a name="l00197"></a>00197 
<a name="l00198"></a>00198         unset(<a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>[<span class="stringliteral">&apos;id&apos;</span>]);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         <span class="keywordflow">return</span> <a class="code" href="class_todoyu.html#abf2dfcff06cad1e6c249ddc4df4d0866">Todoyu::db</a>()-&gt;updateRecord(self::TABLE, $idUser, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00201"></a>00201     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adb0cfeed7e39fb4bf48466a6fabb32d8"></a><!-- doxytag: member="TodoyuUserManager::userExists" ref="adb0cfeed7e39fb4bf48466a6fabb32d8" args="($username)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static userExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a user with the username $username exists</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$username </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Boolean </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00146">146</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00146"></a>00146                                                  {
<a name="l00147"></a>00147         <span class="keywordflow">return</span> <a class="code" href="class_todoyu_user_manager.html#a7d15970174c8b5d421b531d066610f1e">self::getUserIDbyUsername</a>($username) &gt; 0;
<a name="l00148"></a>00148     }
</pre></div></p>

</div>
</div>
<hr/><h2>Dokumentation der Datenelemente</h2>
<a class="anchor" id="adf62e2b172196282218b1ece3d200fa1"></a><!-- doxytag: member="TodoyuUserManager::TABLE" ref="adf62e2b172196282218b1ece3d200fa1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_todoyu_user_manager.html#adf62e2b172196282218b1ece3d200fa1">TABLE</a> = 'ext_user_user'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default working table </p>

<p>Definiert in Zeile <a class="el" href="_todoyu_user_manager_8class_8php_source.html#l00035">35</a> der Datei <a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a>.</p>

</div>
</div>
<hr/>Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei:<ul>
<li>C:/Programme/xampp/htdocs/todoyu2/ext/user/model/<a class="el" href="_todoyu_user_manager_8class_8php_source.html">TodoyuUserManager.class.php</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Erzeugt am Tue Dec 1 18:32:49 2009 für Todoyu von&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
