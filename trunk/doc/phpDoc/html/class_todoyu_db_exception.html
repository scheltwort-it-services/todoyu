<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Todoyu: TodoyuDbException Klassenreferenz</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Erzeugt von Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&nbsp;Informationen</span></a></li>
      <li><a href="namespaces.html"><span>Namensbereiche</span></a></li>
      <li class="current"><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="examples.html"><span>Beispiele</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li><a href="hierarchy.html"><span>Klassenhierarchie</span></a></li>
      <li><a href="functions.html"><span>Datenstruktur-Elemente</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TodoyuDbException Klassenreferenz</h1><!-- doxytag: class="TodoyuDbException" --><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Öffentliche Methoden</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#a7f192b26efbe0a426cdc96579cb28e43">__construct</a> ($message, $code, $query)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#a55f162785567258fe5138af282e588c2">getQuery</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#ad3acc85d2274fa3cd104bd7aa3a831c0">getFileShort</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#a16d59a21af06292ec3d84a3f7474f6a1">getErrorAsHtml</a> ($fullDoc=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#a619b6d19abddc84d31a85619882ebe36">getErrorAsJson</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_todoyu_db_exception.html#a3dfe9b87d9b2077321996ba4337640a0">getErrorAsPlain</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Ausführliche Beschreibung</h2>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00029">29</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>
<hr/><h2>Beschreibung der Konstruktoren und Destruktoren</h2>
<a class="anchor" id="a7f192b26efbe0a426cdc96579cb28e43"></a><!-- doxytag: member="TodoyuDbException::__construct" ref="a7f192b26efbe0a426cdc96579cb28e43" args="($message, $code, $query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Init <a class="el" href="class_todoyu_db_exception.html">TodoyuDbException</a></p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Integer</em>&nbsp;</td><td>$code </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$query </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00048">48</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048                                                           {
<a name="l00049"></a>00049         <a class="code" href="class_todoyu_db_exception.html#a7f192b26efbe0a426cdc96579cb28e43">parent::__construct</a>($message, $code);
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         $this-&gt;query = $query;
<a name="l00052"></a>00052     }
</pre></div></p>

</div>
</div>
<hr/><h2>Dokumentation der Elementfunktionen</h2>
<a class="anchor" id="a16d59a21af06292ec3d84a3f7474f6a1"></a><!-- doxytag: member="TodoyuDbException::getErrorAsHtml" ref="a16d59a21af06292ec3d84a3f7474f6a1" args="($fullDoc=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getErrorAsHtml </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fullDoc</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Render database error as html</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Boolean</em>&nbsp;</td><td>$fullDoc Render full html document with (&lt;html&gt;&lt;body, etc) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String HTML view of error </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00083">83</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00083"></a>00083                                                      {
<a name="l00084"></a>00084             <span class="comment">// Remove full site path</span>
<a name="l00085"></a>00085         $trace  = $this-&gt;getTrace();
<a name="l00086"></a>00086         <span class="keywordflow">foreach</span>($trace as $index =&gt; $step) {
<a name="l00087"></a>00087             $trace[$index][<span class="stringliteral">&apos;file&apos;</span>] = <a class="code" href="class_todoyu_div.html#a8606df5c29cedc23b02514142492366a">TodoyuDiv::removeSitePath</a>($trace[$index][<span class="stringliteral">&apos;file&apos;</span>]);
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089 
<a name="l00090"></a>00090         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = array(<span class="stringliteral">&apos;message&apos;</span>   =&gt; $this-&gt;getMessage(),
<a name="l00091"></a>00091                         <span class="stringliteral">&apos;code&apos;</span>      =&gt; $this-&gt;getCode(),
<a name="l00092"></a>00092                         <span class="stringliteral">&apos;file&apos;</span>      =&gt; $this-&gt;<a class="code" href="class_todoyu_db_exception.html#ad3acc85d2274fa3cd104bd7aa3a831c0">getFileShort</a>(),
<a name="l00093"></a>00093                         <span class="stringliteral">&apos;line&apos;</span>      =&gt; $this-&gt;getLine(),
<a name="l00094"></a>00094                         <span class="stringliteral">&apos;query&apos;</span>     =&gt; $this-&gt;<a class="code" href="class_todoyu_db_exception.html#a55f162785567258fe5138af282e588c2">getQuery</a>(),
<a name="l00095"></a>00095                         <span class="stringliteral">&apos;trace&apos;</span>     =&gt; $trace);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         $tmpl   = <span class="stringliteral">&apos;core/view/dberror_html.tmpl&apos;</span>;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099         $content= <a class="code" href="functions_8php.html#ac86a234398aa64745aabeb8b5215ae43">render</a>($tmpl, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="keywordflow">if</span>( $fullDoc ) {
<a name="l00102"></a>00102             <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = array(<span class="stringliteral">&apos;content&apos;</span>   =&gt; $content,
<a name="l00103"></a>00103                             <span class="stringliteral">&apos;title&apos;</span>     =&gt; <span class="stringliteral">&apos;Database Error!&apos;</span>);
<a name="l00104"></a>00104             $tmpl   = <span class="stringliteral">&apos;core/view/htmldoc.tmpl&apos;</span>;
<a name="l00105"></a>00105             $content= <a class="code" href="functions_8php.html#ac86a234398aa64745aabeb8b5215ae43">render</a>($tmpl, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00106"></a>00106         }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108         <span class="keywordflow">return</span> $content;
<a name="l00109"></a>00109     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a619b6d19abddc84d31a85619882ebe36"></a><!-- doxytag: member="TodoyuDbException::getErrorAsJson" ref="a619b6d19abddc84d31a85619882ebe36" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getErrorAsJson </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Render database error as JSON</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Noch zu erledigen:</a></b></dt><dd>Implement a useful format </dd></dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00119">119</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00119"></a>00119                                      {
<a name="l00120"></a>00120         <span class="keywordflow">return</span> json_encode(array(<span class="stringliteral">&apos;error&apos;</span>=&gt;$this-&gt;getMessage()));
<a name="l00121"></a>00121     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3dfe9b87d9b2077321996ba4337640a0"></a><!-- doxytag: member="TodoyuDbException::getErrorAsPlain" ref="a3dfe9b87d9b2077321996ba4337640a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getErrorAsPlain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Render database error in plain text </p>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00129">129</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00129"></a>00129                                       {
<a name="l00130"></a>00130             <span class="comment">// Remove full site path</span>
<a name="l00131"></a>00131         $trace  = $this-&gt;getTrace();
<a name="l00132"></a>00132         <span class="keywordflow">foreach</span>($trace as $index =&gt; $step) {
<a name="l00133"></a>00133             $trace[$index][<span class="stringliteral">&apos;file&apos;</span>] = <a class="code" href="class_todoyu_div.html#a8606df5c29cedc23b02514142492366a">TodoyuDiv::removeSitePath</a>($trace[$index][<span class="stringliteral">&apos;file&apos;</span>]);
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135 
<a name="l00136"></a>00136         <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>   = array(<span class="stringliteral">&apos;message&apos;</span>   =&gt; $this-&gt;getMessage(),
<a name="l00137"></a>00137                         <span class="stringliteral">&apos;code&apos;</span>      =&gt; $this-&gt;getCode(),
<a name="l00138"></a>00138                         <span class="stringliteral">&apos;file&apos;</span>      =&gt; $this-&gt;<a class="code" href="class_todoyu_db_exception.html#ad3acc85d2274fa3cd104bd7aa3a831c0">getFileShort</a>(),
<a name="l00139"></a>00139                         <span class="stringliteral">&apos;line&apos;</span>      =&gt; $this-&gt;getLine(),
<a name="l00140"></a>00140                         <span class="stringliteral">&apos;query&apos;</span>     =&gt; $this-&gt;<a class="code" href="class_todoyu_db_exception.html#a55f162785567258fe5138af282e588c2">getQuery</a>(),
<a name="l00141"></a>00141                         <span class="stringliteral">&apos;trace&apos;</span>     =&gt; $trace);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143         <span class="comment">//$content  = &apos;D&apos;</span>
<a name="l00144"></a>00144         $tmpl   = <span class="stringliteral">&apos;core/view/dberror_plain.tmpl&apos;</span>;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         $content= <a class="code" href="functions_8php.html#ac86a234398aa64745aabeb8b5215ae43">render</a>($tmpl, <a class="code" href="projectrole_8php.html#a52040912826b490efa3dd0e7f42e1c3f">$data</a>);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="keywordflow">return</span> $content;
<a name="l00149"></a>00149     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad3acc85d2274fa3cd104bd7aa3a831c0"></a><!-- doxytag: member="TodoyuDbException::getFileShort" ref="ad3acc85d2274fa3cd104bd7aa3a831c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFileShort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get file without site path</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00071">71</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00071"></a>00071                                    {
<a name="l00072"></a>00072         <span class="keywordflow">return</span> <a class="code" href="javascript_8js.html#a653ea8da4d112c6bce1135d086cb38c9">str_replace</a>(<a class="code" href="core_2config_2constants_8php.html#a98e6ec34047e8d89ccc3884beede053a">PATH</a>, <span class="stringliteral">&apos;&apos;</span>, $this-&gt;getFile());
<a name="l00073"></a>00073     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a55f162785567258fe5138af282e588c2"></a><!-- doxytag: member="TodoyuDbException::getQuery" ref="a55f162785567258fe5138af282e588c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getQuery </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get query</p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>String </dd></dl>

<p>Definiert in Zeile <a class="el" href="_todoyu_db_exception_8class_8php_source.html#l00061">61</a> der Datei <a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00061"></a>00061                                {
<a name="l00062"></a>00062         <span class="keywordflow">return</span> $this-&gt;query;
<a name="l00063"></a>00063     }
</pre></div></p>

</div>
</div>
<hr/>Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei:<ul>
<li>C:/Programme/xampp/htdocs/todoyu2/core/<a class="el" href="_todoyu_db_exception_8class_8php_source.html">TodoyuDbException.class.php</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Erzeugt am Tue Dec 1 18:32:44 2009 für Todoyu von&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
